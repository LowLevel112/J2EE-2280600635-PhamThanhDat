<!doctype html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  lang="en"
>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to BookHaven</title>
    <th:block th:replace="~{layout::link-css}"></th:block>
    <th:block th:replace="~{layout::custom-css}"></th:block>
  </head>

  <body>
    <th:block th:replace="~{layout::header}"></th:block>

    <!-- Hero Section -->
    <section class="hero-section text-center">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <h1 class="display-4 fw-bold fade-in">Welcome to BookHaven</h1>
            <p class="lead slide-up">
              Discover your next favorite book from our extensive collection.
              Quality books, great prices, and exceptional service.
            </p>
            <div class="d-flex justify-content-center gap-3 slide-up">
              <a th:href="@{/books}" class="btn btn-light btn-lg px-4">
                <i class="fas fa-book me-2"></i>Browse Books
              </a>
              <a
                th:href="@{/register}"
                class="btn btn-warning btn-lg px-4"
                sec:authorize="!isAuthenticated()"
              >
                <i class="fas fa-user-plus me-2"></i>Join Now
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-5 bg-light">
      <div class="container">
        <div class="row text-center mb-5">
          <div class="col-12">
            <h2 class="display-5 fw-bold text-primary">
              Why Choose BookHaven?
            </h2>
            <p class="lead text-muted">
              Experience the best in online book shopping
            </p>
          </div>
        </div>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                  <i
                    class="fas fa-shipping-fast text-primary"
                    style="font-size: 3rem"
                  ></i>
                </div>
                <h5 class="card-title fw-bold">Fast Delivery</h5>
                <p class="card-text text-muted">
                  Get your books delivered quickly and safely to your doorstep.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                  <i
                    class="fas fa-tags text-success"
                    style="font-size: 3rem"
                  ></i>
                </div>
                <h5 class="card-title fw-bold">Best Prices</h5>
                <p class="card-text text-muted">
                  Competitive pricing on all books with regular discounts and
                  offers.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center p-4">
                <div class="feature-icon mb-3">
                  <i
                    class="fas fa-shield-alt text-warning"
                    style="font-size: 3rem"
                  ></i>
                </div>
                <h5 class="card-title fw-bold">Secure Shopping</h5>
                <p class="card-text text-muted">
                  Safe and secure checkout process with multiple payment
                  options.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Books Section -->
    <section class="py-5">
      <div class="container">
        <div class="row mb-5">
          <div class="col-12 text-center">
            <h2 class="display-5 fw-bold text-primary">Featured Books</h2>
            <p class="lead text-muted">
              Check out some of our most popular titles
            </p>
          </div>
        </div>
        <div
          class="row g-4"
          th:if="${featuredBooks != null and !featuredBooks.empty}"
        >
          <div
            class="col-lg-2-4 col-md-4 col-sm-6"
            th:each="book : ${featuredBooks}"
          >
            <div class="card book-card h-100">
              <div
                style="
                  height: 200px;
                  overflow: hidden;
                  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                "
              >
                <img
                  th:if="${book.imageUrl}"
                  th:src="${book.imageUrl}"
                  alt="Book Cover"
                  style="width: 100%; height: 100%; object-fit: cover"
                />
                <i
                  th:unless="${book.imageUrl}"
                  class="fas fa-book"
                  style="font-size: 80px; color: white; opacity: 0.5"
                ></i>
              </div>
              <div class="card-body d-flex flex-column">
                <h6
                  class="card-title fw-bold text-truncate"
                  th:text="${book.title}"
                >
                  Book Title
                </h6>
                <p
                  class="card-text text-muted mb-2"
                  th:text="'by ' + ${book.author}"
                >
                  Author
                </p>
                <p
                  class="card-text fw-bold text-primary mb-3"
                  th:text="'$' + ${book.price}"
                >
                  Price
                </p>
                <div class="mt-auto">
                  <a
                    th:href="@{/books/id/{id}(id=${book.id})}"
                    class="btn btn-primary btn-sm me-2"
                  >
                    <i class="fas fa-eye me-1"></i>View
                  </a>
                  <form
                    th:action="@{/books/add-to-cart}"
                    method="post"
                    class="d-inline"
                  >
                    <input type="hidden" name="id" th:value="${book.id}" />
                    <input type="hidden" name="name" th:value="${book.title}" />
                    <input
                      type="hidden"
                      name="price"
                      th:value="${book.price}"
                    />
                    <input
                      type="hidden"
                      name="imageUrl"
                      th:value="${book.imageUrl}"
                    />
                    <button type="submit" class="btn btn-success btn-sm">
                      <i class="fas fa-cart-plus me-1"></i>Add to Cart
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="row"
          th:if="${featuredBooks == null or featuredBooks.empty}"
        >
          <div class="col-12 text-center">
            <div class="card border-0 shadow-sm">
              <div class="card-body py-5">
                <i
                  class="fas fa-book-open text-muted"
                  style="font-size: 4rem"
                ></i>
                <h4 class="card-title text-muted mt-3">
                  No Featured Books Available
                </h4>
                <p class="card-text text-muted">
                  Check back soon for our latest featured titles!
                </p>
                <a th:href="@{/books}" class="btn btn-primary">
                  <i class="fas fa-arrow-right me-2"></i>Browse All Books
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Call to Action Section -->
    <section class="py-5 bg-gradient-primary text-white">
      <div class="container text-center">
        <h2 class="display-5 fw-bold mb-3">Ready to Start Reading?</h2>
        <p class="lead mb-4">
          Join thousands of satisfied customers and discover your next great
          read today.
        </p>
        <div class="d-flex justify-content-center gap-3">
          <a th:href="@{/books}" class="btn btn-light btn-lg px-4">
            <i class="fas fa-search me-2"></i>Explore Books
          </a>
          <a
            th:href="@{/register}"
            class="btn btn-warning btn-lg px-4"
            sec:authorize="!isAuthenticated()"
          >
            <i class="fas fa-rocket me-2"></i>Get Started
          </a>
        </div>
      </div>
    </section>

    <th:block th:replace="~{layout::footer}"></th:block>
  </body>
</html>
